<div class="container-fluid">
<!-- HEADER -->
  <div class="row row-custom">
    <div class="col-xs-12 col-custom">
      <h2 class="page-header-text">
        My Projects List
      </h2>
    </div>
  </div>
  <div class="row row-custom">
      <div class="col-xs-12 col-custom">
          <li *ngFor="let request of projectAccessRequestsList">
            {{ request['user.fullName'] }} has requested access to your project {{ request['project.projectName'] }}
          </li>
      </div>
  </div>
<!--  -->
<!-- ACCORDION START -->
  <div class="accordion" id="accordionProjectList">
    <!-- PROJECT HEADER START -->
      <div class="card-header projectsHeader">
        <h6 class="mb-1">
          <div class="row">
            <div class="col">Project Name</div>
            <div class="col">Project Type</div>
            <div class="col">Description</div>
            <div class="col">Notes</div>
          </div>
        </h6>
      </div>
    <!-- PROJECT HEADER END -->
    <!-- PROJECT LIST START -->
    <div class="card" *ngFor="let project of projectList; let k = index">
      <div class="card-header" [attr.id]="k" data-toggle="collapse" [attr.data-target]="'#collapse'+ k" aria-expanded="false" (click)="onCollapseClick()">
        <h6 class="mb-0 row">
          <div class="col">{{ project['projectName'] }}</div>
          <div class="col">{{ project['projectType.projectTypeName'] }}</div>
          <div class="col">{{ project['description'] }}</div>
          <div class="col">{{ project['notes'] }}</div>
          <!-- Edit Button -->
          <i class="fa fa-pencil-square-o" aria-hidden="true" data-toggle="modal" data-target="#projectsEditModal" (click)="selectProject(project)"></i>
        </h6>
      </div>
      <!-- COLLAPSABLE CARD-BODY START-->
      <div id="collapse{{k}}" class="collapse" [attr.aria-labelledby]="k" data-parent="#accordionProjectList">
        
        <div class="card-body">
          {{ project['id'] }}
        </div>
      </div>
      <!-- COLLAPSABLE CARD-BODY END -->
    </div>
    <!-- PROJECT LIST END -->
</div>
<!-- ACCORDION END -->

<!-- PAUL'S -->
  <!-- <div class="row row-custom">
    <div class="col-sm col-custom table-scrollable">
      <table class="table table-striped table-sm table-hover">
        <thead>
          <tr>
            <th>Project Name</th>
            <th>ProjectType</th>
            <th>Description</th>
            <th>Notes</th>
          </tr>
        </thead>
        <tr *ngFor="let project of projectList" data-toggle="modal" data-target="#projectsEditModal" (click)="selectProject(project)">
          <td width="15%">{{ project['projectName'] }}</td>
          <td width="5%">{{ project['projectTypes.projectTypeName'] }}</td>
          <td width="50%">{{ project['description'] }}</td>
          <td>{{ project['notes'] }}</td>
        </tr>
      </table>
    </div>
  </div> -->

  <div class="row row-custom">
    <div class="col-xs-12 project-buttons">
      <button data-clicktrack="page: Main, clickedOn: Add Project Button" class="btn btn-primary" data-toggle="modal" data-target="#projectsCreateModal" (click)="createProject()">Create Project</button>
    </div>
  </div>

  <div class="test-buttons">
    <button class="btn btn-primary" data-toggle="modal" data-target="#projectsCreateModal" (click)="createProject()">Create Project</button>
  </div>

</div>

<app-projects-edit-modal *ngIf="showProjectsEditModal" [projectData]="projectData" [projectAccessRequestsList]="projectAccessRequestsList" (updateSuccess)="onUpdateSuccess()" (deleteSuccess)="onDeleteSuccess()"></app-projects-edit-modal>
<app-projects-create-modal *ngIf="showProjectsCreateModal" (createSuccess)="onCreateSuccess()"></app-projects-create-modal>